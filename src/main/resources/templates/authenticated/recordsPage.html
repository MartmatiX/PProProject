<th:block th:replace="~{/fragments/header.html}"></th:block>
<script src='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.15/index.global.min.js'></script>

<div class="d-flex">
    <a class="btn btn-info ms-3" th:href="@{/}">&#8592; Back</a>
</div>
<div class="d-flex justify-content-center align-items-center">
    <p class="display-3">Records</p>
</div>
<div class="d-flex justify-content-center align-items-center text-danger" th:if="${param.status != null}">
    <p th:if="${param.status[0] == 'dateParseError'}">Date is not valid!</p>
</div>
<div class="d-flex justify-content-center">
    <div class="w-75">
        <div id='calendar'></div>
    </div>
</div>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        let calendarEl = document.getElementById('calendar');
        let calendar = new FullCalendar.Calendar(calendarEl, {
            initialView: 'dayGridMonth',
            dateClick: function (info) {
                window.location.href="/records/" + info.dateStr;
            }
        });
        calendar.setOption('height', 700);
        calendar.render();
    });

</script>

<th:block th:replace="~{/fragments/footer.html}"></th:block>